import{c as u,r as h,s as w,j as e,B as r}from"./index-yoHOzVXd.js";import{H as g,C as t,c as d,b as j,a as c,B as b}from"./badge-BexDr--y.js";import{T as k}from"./trending-up-CK9o4elA.js";import{S as f}from"./star-BrQW1CpX.js";import{M as S}from"./map-pin-Cdb2Qwzk.js";import{T as C}from"./trash-2-CNrGRJ2M.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],N=u("share-2",P);function R({onNavigate:l,isLoggedIn:a,userName:o,user:i,onShowLogin:n,onLogout:m}){const[x,p]=h.useState([]);h.useEffect(()=>{a&&i&&y()},[a,i]);const y=async()=>{if(!i)return;const{data:s}=await w.from("saved_items").select("*").eq("user_id",i.id).order("saved_date",{ascending:!1});p(s||[])};return a?e.jsxs("div",{className:"min-h-screen pb-20",children:[e.jsx(g,{isLoggedIn:a,userName:o,onShowLogin:n,onNavigate:l,onLogout:m}),e.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Saved Prices"}),e.jsxs("p",{className:"text-gray-600",children:["Your bookmarked fair prices ‚Ä¢ ",x.length," items"]})]}),e.jsxs(r,{variant:"outline",className:"gap-2 rounded-xl border-gray-300 hover:bg-gray-50 font-semibold",children:[e.jsx(N,{className:"w-4 h-4"}),"Export List"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(t,{className:"border-gray-200 bg-gradient-to-br from-orange-50 to-amber-50",children:e.jsxs(c,{className:"p-4 text-center",children:[e.jsx(d,{className:"w-6 h-6 text-orange-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.length}),e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Saved Items"})]})}),e.jsx(t,{className:"border-gray-200 bg-gradient-to-br from-green-50 to-emerald-50",children:e.jsxs(c,{className:"p-4 text-center",children:[e.jsx(k,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"‚Çπ890"}),e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Total Saved"})]})}),e.jsx(t,{className:"border-gray-200 bg-gradient-to-br from-blue-50 to-indigo-50",children:e.jsxs(c,{className:"p-4 text-center",children:[e.jsx(f,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"4.6"}),e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Avg Rating"})]})})]}),x.length===0?e.jsx(t,{className:"border-gray-200",children:e.jsxs(c,{className:"p-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(d,{className:"w-10 h-10 text-gray-300"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Saved Prices Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start saving prices from the Explore section to build your collection"}),e.jsx(r,{onClick:()=>l("explore"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 shadow-lg font-semibold",children:"Explore Prices"})]})}):e.jsx("div",{className:"space-y-4",children:x.map((s,v)=>e.jsx(t,{className:"border-gray-200 hover:shadow-xl transition-all group",children:e.jsx(c,{className:"p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-4xl flex-shrink-0",children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-bold text-lg text-gray-900 group-hover:text-orange-600 transition-colors",children:s.service}),s.trending&&e.jsx(b,{className:"bg-orange-100 text-orange-700 border-orange-200 text-xs font-semibold",children:"üî• Trending"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{className:"w-4 h-4"}),s.location]}),e.jsx(b,{variant:"outline",className:"text-xs font-medium",children:s.category})]})]})}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Fair Price"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.price})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(f,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-semibold text-gray-700",children:s.rating})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{variant:"outline",size:"sm",className:"rounded-full border-gray-300 hover:bg-gray-50",children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx(r,{variant:"outline",size:"sm",className:"rounded-full border-red-200 hover:bg-red-50 text-red-600 hover:text-red-700",children:e.jsx(C,{className:"w-4 h-4"})}),e.jsx(d,{className:"w-5 h-5 text-orange-600 fill-orange-600 cursor-pointer hover:scale-110 transition-transform"})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Saved ",s.savedDate]})]})]})})},v))}),e.jsx(t,{className:"border-orange-200 bg-gradient-to-br from-orange-50 to-amber-50",children:e.jsxs(c,{className:"p-5",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(r,{variant:"outline",className:"h-12 justify-start gap-3 bg-white border-gray-200 hover:border-orange-300 hover:bg-white font-semibold",onClick:()=>l("explore"),children:[e.jsx("span",{className:"text-xl",children:"üîç"}),"Find More Prices"]}),e.jsxs(r,{variant:"outline",className:"h-12 justify-start gap-3 bg-white border-gray-200 hover:border-orange-300 hover:bg-white font-semibold",children:[e.jsx("span",{className:"text-xl",children:"üìä"}),"View Statistics"]})]})]})})]}),e.jsx(j,{currentScreen:"saved",onNavigate:l,isLoggedIn:a,onShowLogin:n})]}):e.jsxs("div",{className:"min-h-screen pb-20",children:[e.jsx(g,{isLoggedIn:a,userName:o,onShowLogin:n,onNavigate:l,onLogout:m}),e.jsx("main",{className:"max-w-4xl mx-auto px-4 py-6 flex items-center justify-center min-h-[60vh]",children:e.jsxs(t,{className:"border-gray-200 shadow-lg p-8 text-center max-w-md",children:[e.jsx(d,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sign In Required"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please sign in to access your saved prices and favorites."}),e.jsx(r,{onClick:n,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700",children:"Sign In"})]})}),e.jsx(j,{currentScreen:"saved",onNavigate:l,isLoggedIn:a,onShowLogin:n})]})}export{R as SavedScreen};
