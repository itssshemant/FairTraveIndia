import{c as u,j as e,a as E,r as d,B as g,s as G}from"./index-BZPrmO9D.js";import{H as N,C as x,b as v,a as p,B as I}from"./badge-BDo7aoaZ.js";import{C as W,I as w}from"./input-C7f4nk0E.js";import{M as K}from"./map-pin-CjMD1xpv.js";import{I as A}from"./indian-rupee-BOOkMv_W.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],J=u("camera",Z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],k=u("circle-alert",Q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],L=u("file-text",X);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],re=u("upload",ee);function ae({className:o,...t}){return e.jsx("textarea",{"data-slot":"textarea",className:E("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",o),...t})}function de({onNavigate:o,isLoggedIn:t,userName:b,user:C,onShowLogin:n,onLogout:f}){const[h,F]=d.useState(1),[l,H]=d.useState("Auto Rickshaw"),[T,S]=d.useState(!1),[i,R]=d.useState(""),[se,$]=d.useState([]),[j,_]=d.useState(null),B=[{name:"Auto Rickshaw",icon:"üõ∫"},{name:"Taxi",icon:"üöï"},{name:"Shop",icon:"üè™"},{name:"Guide",icon:"üë®‚Äçüè´"},{name:"Ticket",icon:"üé´"},{name:"Other",icon:"üìù"}],P=["Details","Location","Amount","Submit"],M=a=>{const s=a.target.files;if(s&&s.length>0){const m=s[0];if($([m]),m.type.startsWith("image/")){const y=new FileReader;y.onloadend=()=>{_(y.result)},y.readAsDataURL(m)}alert(`File uploaded: ${m.name} (${(m.size/1024).toFixed(2)} KB)`)}},O=()=>{alert(`Opening camera...

Note: In a real app, this would access your device camera to take a photo of the receipt or bill.`)},z=async()=>{C&&(await G.from("reports").insert({user_id:C.id,category:l,amount:parseFloat(i)||0,location:"Delhi",description:"Overcharging report",is_verified:!1}),S(!0))};if(!t)return e.jsxs("div",{className:"min-h-screen pb-20",children:[e.jsx(N,{isLoggedIn:t,userName:b,onShowLogin:n,onLogout:f}),e.jsx("main",{className:"max-w-4xl mx-auto px-4 py-6 flex items-center justify-center min-h-[60vh]",children:e.jsxs(x,{className:"border-gray-200 shadow-lg p-8 text-center max-w-md",children:[e.jsx(k,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sign In Required"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please sign in to report overcharging and help the community."}),e.jsx(g,{onClick:n,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700",children:"Sign In"})]})}),e.jsx(v,{currentScreen:"report",onNavigate:o,isLoggedIn:t,onShowLogin:n})]});if(T)return e.jsxs("div",{className:"min-h-screen pb-20",children:[e.jsx(N,{isLoggedIn:t,userName:b,onShowLogin:n,onLogout:f}),e.jsx("main",{className:"max-w-2xl mx-auto px-4 py-12",children:e.jsx(x,{className:"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50 shadow-2xl",children:e.jsxs(p,{className:"p-12 text-center space-y-6",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto shadow-lg animate-bounce",children:e.jsx(W,{className:"w-12 h-12 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Report Submitted!"}),e.jsx("p",{className:"text-lg text-gray-700",children:"Thank you for helping the community"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-green-200",children:[e.jsx("p",{className:"text-gray-700 mb-2",children:"Your report has been verified and added to our database"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["You've earned ",e.jsx("span",{className:"font-bold text-green-600",children:"+10 points"})," üéâ"]})]}),e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsx(g,{onClick:()=>o("home"),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 shadow-lg h-12 font-semibold",children:"Back to Home"}),e.jsx(g,{onClick:()=>{S(!1),F(1),R("")},variant:"outline",className:"w-full border-green-300 hover:bg-green-50 h-12 font-semibold",children:"Submit Another Report"})]})]})})}),e.jsx(v,{currentScreen:"report",onNavigate:o,isLoggedIn:t,onShowLogin:n})]});const r=l==="Auto Rickshaw"?{min:40,max:60}:l==="Taxi"?{min:180,max:250}:l==="Shop"?{min:50,max:200}:l==="Guide"?{min:500,max:1500}:l==="Ticket"?{min:100,max:500}:{min:0,max:0},D=r.min>0?`‚Çπ${r.min}-${r.max}`:"Not available",c=parseInt(i)||0,U=c>r.max&&r.max>0,Y=c>=r.min&&c<=r.max&&r.min>0,q=c>0&&c<r.min&&r.min>0,V=c-r.max;return e.jsxs("div",{className:"min-h-screen pb-20",children:[e.jsx(N,{isLoggedIn:t,userName:b,onShowLogin:n,onLogout:f}),e.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Report Overcharging"}),e.jsx("p",{className:"text-gray-600",children:"Help fellow travelers by sharing your experience"})]}),e.jsx(x,{className:"border-gray-200 shadow-md",children:e.jsx(p,{className:"p-5",children:e.jsx("div",{className:"flex items-center justify-between",children:P.map((a,s)=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all ${s+1<=h?"bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-lg":"bg-gray-100 text-gray-400"}`,children:s+1<h?"‚úì":s+1}),e.jsx("span",{className:`text-xs mt-2 font-semibold ${s+1<=h?"text-orange-600":"text-gray-400"}`,children:a})]}),s<P.length-1&&e.jsx("div",{className:`h-1 flex-1 mx-2 rounded-full transition-all ${s+1<h?"bg-gradient-to-r from-orange-500 to-orange-600":"bg-gray-200"}`})]},s))})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-gray-900 font-bold",children:"Select Service Type"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:B.map(a=>e.jsxs("button",{onClick:()=>H(a.name),className:`p-4 rounded-xl border-2 transition-all ${l===a.name?"border-orange-500 bg-orange-50 shadow-lg":"border-gray-200 bg-white hover:border-orange-200 hover:bg-orange-50"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:a.icon}),e.jsx("div",{className:`text-sm font-semibold ${l===a.name?"text-orange-600":"text-gray-700"}`,children:a.name})]},a.name))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-gray-900 font-bold",children:"Service/Vendor Name"}),e.jsx(w,{placeholder:"e.g., Auto from Delhi Gate to Red Fort",className:"h-12 border-gray-300 focus:ring-2 focus:ring-orange-500 rounded-xl"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-gray-900 font-bold",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsx(K,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 z-10"}),e.jsx(w,{placeholder:"Where did this happen?",className:"pl-12 h-12 border-gray-300 focus:ring-2 focus:ring-orange-500 rounded-xl",defaultValue:"Connaught Place, New Delhi"})]}),e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(k,{className:"w-3 h-3"}),"GPS coordinates will be automatically recorded"]})]}),e.jsx(x,{className:"border-orange-200 bg-gradient-to-br from-orange-50 to-amber-50 shadow-md",children:e.jsxs(p,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(A,{className:"w-5 h-5 text-orange-600"}),e.jsx("h4",{className:"font-bold text-gray-900",children:"Pricing Details"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-gray-700 font-semibold block",children:"Amount You Were Charged"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(w,{type:"number",placeholder:"Enter amount",value:i,onChange:a=>R(a.target.value),className:"pl-12 h-12 bg-white border-gray-300 focus:ring-2 focus:ring-orange-500 rounded-xl text-lg font-semibold"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border-2 border-dashed border-orange-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Fair Price Range"}),e.jsx(I,{className:"bg-green-100 text-green-700 border-green-200 font-semibold",children:"Community Verified"})]}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:D}),i&&U&&e.jsxs("div",{className:"mt-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsxs("p",{className:"text-sm text-red-700 font-semibold",children:["‚ö†Ô∏è You were overcharged by approximately ‚Çπ",V]}),e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Fair price maximum is ‚Çπ",r.max]})]}),i&&Y&&e.jsxs("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("p",{className:"text-sm text-green-700 font-semibold",children:"‚úì This is within the fair price range"}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"You paid a reasonable amount"})]}),i&&q&&e.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("p",{className:"text-sm text-blue-700 font-semibold",children:"üí° This is below the typical fair price"}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"You got a great deal! Consider verifying the service quality."})]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-gray-900 font-bold",children:"Add Evidence (Optional)"}),j&&e.jsxs("div",{className:"relative bg-white border-2 border-green-500 rounded-xl p-4 mb-3",children:[e.jsx("button",{onClick:handleRemoveFile,className:"absolute top-2 right-2 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center text-white hover:bg-red-600 transition-colors",children:"√ó"}),e.jsx("img",{src:j,alt:"Upload preview",className:"w-full h-48 object-cover rounded-lg"}),e.jsx("p",{className:"text-sm text-green-700 font-semibold mt-2 text-center",children:"‚úì Photo uploaded successfully"})]}),!j&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:O,className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-orange-400 transition-all cursor-pointer bg-white group",children:[e.jsx(J,{className:"w-8 h-8 text-gray-400 mx-auto mb-2 group-hover:text-orange-500 transition-colors"}),e.jsx("p",{className:"text-sm font-semibold text-gray-700 group-hover:text-orange-600",children:"Take Photo"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Receipt or bill"})]}),e.jsxs("label",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-orange-400 transition-all cursor-pointer bg-white group",children:[e.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:M,className:"hidden"}),e.jsx(re,{className:"w-8 h-8 text-gray-400 mx-auto mb-2 group-hover:text-orange-500 transition-colors"}),e.jsx("p",{className:"text-sm font-semibold text-gray-700 group-hover:text-orange-600",children:"Upload File"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Photo or document"})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(L,{className:"w-3 h-3"}),"Adding evidence increases report credibility by 50%"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-gray-900 font-bold",children:"Additional Details (Optional)"}),e.jsx(ae,{placeholder:"Share your experience... What happened? How did they justify the price? Any other details that might help others.",className:"min-h-32 border-gray-300 focus:ring-2 focus:ring-orange-500 rounded-xl resize-none"}),e.jsx("p",{className:"text-xs text-gray-500",children:"üí° Detailed reports help the community better understand common scams"})]}),e.jsx(x,{className:"border-blue-200 bg-blue-50",children:e.jsx(p,{className:"p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(k,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-900",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Your privacy is protected"}),e.jsx("p",{className:"text-blue-700",children:"Reports are anonymous. Only location and pricing data are shared publicly."})]})]})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(g,{onClick:z,className:"w-full h-14 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 shadow-xl shadow-orange-200 text-lg font-bold rounded-xl",children:"Submit Report & Help Others"}),e.jsx("p",{className:"text-center text-xs text-gray-500",children:"By submitting, you agree to our community guidelines"})]})]}),e.jsx(v,{currentScreen:"report",onNavigate:o,isLoggedIn:t,onShowLogin:n})]})}export{de as ReportScreen};
