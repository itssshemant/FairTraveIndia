import{c as i,r as t,j as e,X as ae,B as n,s as h}from"./index-BZPrmO9D.js";import{G as le,H as ne,C as m,U as se,a as p,B as F,F as ie,b as oe}from"./badge-BDo7aoaZ.js";import{S as Z}from"./shield-C-TYp-SM.js";import{T as ce}from"./trash-2-C4pG7kte.js";import{M as de,U as xe}from"./users-C9yDSn4E.js";import{S as me}from"./star-7oSq_f2I.js";import{T as he}from"./trending-up-B7aj_0Fi.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ge=i("award",ue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Y=i("bell",pe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],S=i("chevron-right",fe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],te=i("circle-help",je);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ye=i("eye",be);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],we=i("key",Ne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ke=i("lock",ve);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Pe=i("log-out",Ce);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],_e=i("mail",Se);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Ee=i("moon",$e);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ee=i("settings",Ue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Ae=i("volume-2",Me);function Fe({isOpen:D,onClose:o,type:f,isDarkMode:r,onToggleDarkMode:w}){const[v,T]=t.useState(!0),[_,$]=t.useState(!0),[d,u]=t.useState(!0),[E,V]=t.useState(!1),[H,I]=t.useState("English"),[U,j]=t.useState("INR (â‚¹)"),[g,W]=t.useState(r||!1),[b,q]=t.useState(!0),[k,G]=t.useState("public"),[x,z]=t.useState(!0),[c,O]=t.useState(!0),[L,M]=t.useState(!1),[C,A]=t.useState(""),[s,l]=t.useState(""),[P,y]=t.useState(""),[R,N]=t.useState("");if(!D)return null;const J=async()=>{if(s!==P){N("New passwords do not match");return}if(s.length<6){N("Password must be at least 6 characters");return}try{const{error:a}=await h.auth.updateUser({password:s});if(a)throw a;N(""),M(!1),A(""),l(""),y(""),alert("Password updated successfully")}catch(a){N(a.message)}},K=()=>{switch(f){case"notifications":return"Notification Preferences";case"preferences":return"App Preferences";case"privacy":return"Privacy & Security";case"help":return"Help & Support";default:return"Settings"}},Q=()=>{switch(f){case"notifications":return e.jsx(Y,{className:"w-7 h-7",strokeWidth:2.5});case"preferences":return e.jsx(ee,{className:"w-7 h-7",strokeWidth:2.5});case"privacy":return e.jsx(Z,{className:"w-7 h-7",strokeWidth:2.5});case"help":return e.jsx(te,{className:"w-7 h-7",strokeWidth:2.5});default:return e.jsx(ee,{className:"w-7 h-7",strokeWidth:2.5})}},X=()=>{switch(f){case"notifications":return"from-blue-500 to-blue-600";case"preferences":return"from-purple-500 to-purple-600";case"privacy":return"from-green-500 to-green-600";case"help":return"from-amber-500 to-amber-600";default:return"from-gray-500 to-gray-600"}},B=()=>{switch(f){case"notifications":return"#3b82f6";case"preferences":return"#a855f7";case"privacy":return"#22c55e";case"help":return"#f59e0b";default:return"#6b7280"}},re=()=>{switch(f){case"notifications":return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-xl",children:e.jsx("p",{className:"text-sm text-gray-700",children:"Manage how and when you receive notifications from Fair Travel India."})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Y,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive alerts on your device"})]})]}),e.jsx("button",{onClick:()=>T(!v),className:`w-12 h-7 rounded-full transition-colors ${v?"bg-green-500":"bg-gray-300"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${v?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(_e,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get updates via email"})]})]}),e.jsx("button",{onClick:()=>$(!_),className:`w-12 h-7 rounded-full transition-colors ${_?"bg-green-500":"bg-gray-300"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${_?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"ðŸ’°"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Price Alerts"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Notify when prices change"})]})]}),e.jsx("button",{onClick:()=>u(!d),className:`w-12 h-7 rounded-full transition-colors ${d?"bg-green-500":"bg-gray-300"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${d?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(de,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Community Updates"}),e.jsx("p",{className:"text-sm text-gray-600",children:"News and tips from community"})]})]}),e.jsx("button",{onClick:()=>V(!E),className:`w-12 h-7 rounded-full transition-colors ${E?"bg-green-500":"bg-gray-300"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${E?"translate-x-6":"translate-x-1"}`})})]})]})]});case"preferences":return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-purple-50 p-4 rounded-xl",children:e.jsx("p",{className:"text-sm text-gray-700",children:"Customize your app experience with these preferences."})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(le,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Language"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Select your preferred language"})]})]}),e.jsxs("select",{value:H,onChange:a=>I(a.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-purple-500","aria-label":"Select language",children:[e.jsx("option",{children:"English"}),e.jsx("option",{children:"à¤¹à¤¿à¤‚à¤¦à¥€ (Hindi)"}),e.jsx("option",{children:"à®¤à®®à®¿à®´à¯ (Tamil)"}),e.jsx("option",{children:"à¦¬à¦¾à¦‚à¦²à¦¾ (Bengali)"}),e.jsx("option",{children:"à¤®à¤°à¤¾à¤ à¥€ (Marathi)"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"â‚¹"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Currency"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Display prices in"})]})]}),e.jsxs("select",{value:U,onChange:a=>j(a.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-purple-500","aria-label":"Select currency",children:[e.jsx("option",{children:"INR (â‚¹)"}),e.jsx("option",{children:"USD ($)"}),e.jsx("option",{children:"EUR (â‚¬)"}),e.jsx("option",{children:"GBP (Â£)"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx(Ee,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Dark Mode"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Use dark theme"})]})]}),e.jsx("button",{onClick:()=>{W(!g),w&&w(!g)},className:`w-12 h-7 rounded-full transition-colors ${g?"bg-indigo-500":"bg-gray-300"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${g?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(Ae,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Sound Effects"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Play sounds for actions"})]})]}),e.jsx("button",{onClick:()=>q(!b),className:`w-12 h-7 rounded-full transition-colors ${b?"bg-green-500":"bg-gray-300"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${b?"translate-x-6":"translate-x-1"}`})})]})]})]});case"privacy":return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-50 p-4 rounded-xl",children:e.jsx("p",{className:"text-sm text-gray-700",children:"Control your privacy and how your data is used."})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(we,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Change Password"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Update your account password"})]})]}),L?e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"password",placeholder:"Current Password",value:C,onChange:a=>A(a.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500"}),e.jsx("input",{type:"password",placeholder:"New Password",value:s,onChange:a=>l(a.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500"}),e.jsx("input",{type:"password",placeholder:"Confirm New Password",value:P,onChange:a=>y(a.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500"}),R&&e.jsx("p",{className:"text-red-500 text-sm",children:R}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{onClick:J,className:"flex-1 bg-blue-500 hover:bg-blue-600",children:"Update Password"}),e.jsx(n,{onClick:()=>{M(!1),N(""),A(""),l(""),y("")},variant:"outline",className:"flex-1",children:"Cancel"})]})]}):e.jsx(n,{onClick:()=>M(!0),className:"w-full bg-blue-500 hover:bg-blue-600",children:"Change Password"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(ye,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Profile Visibility"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Who can see your profile"})]})]}),e.jsxs("select",{value:k,onChange:a=>G(a.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-green-500","aria-label":"Select profile visibility",children:[e.jsx("option",{value:"public",children:"Public - Everyone"}),e.jsx("option",{value:"community",children:"Community Only"}),e.jsx("option",{value:"private",children:"Private - Only Me"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(ke,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Show Activity"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Display your recent activity"})]})]}),e.jsx("button",{onClick:()=>z(!x),className:`w-12 h-7 rounded-full transition-colors ${x?"bg-green-500":"bg-gray-300"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${x?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(Z,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Data Collection"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Help improve the app"})]})]}),e.jsx("button",{onClick:()=>O(!c),className:`w-12 h-7 rounded-full transition-colors ${c?"bg-green-500":"bg-gray-300"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${c?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("button",{className:"w-full flex items-center justify-between p-4 bg-red-50 rounded-xl hover:bg-red-100 transition-colors border-2 border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(ce,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-red-600",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-red-500",children:"Permanently delete your data"})]})]}),e.jsx(S,{className:"w-5 h-5 text-red-600"})]})]})]});case"help":return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-50 p-4 rounded-xl",children:e.jsx("p",{className:"text-sm text-gray-700",children:"Get help and support for using Fair Travel India."})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{className:"w-full flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"ðŸ“–"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"User Guide"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Learn how to use the app"})]})]}),e.jsx(S,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{className:"w-full flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"â“"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"FAQs"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Frequently asked questions"})]})]}),e.jsx(S,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{className:"w-full flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"ðŸ’¬"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Contact Support"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get in touch with our team"})]})]}),e.jsx(S,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{className:"w-full flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"ðŸ›"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Report a Bug"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Help us improve the app"})]})]}),e.jsx(S,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{className:"w-full flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"â„¹ï¸"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"About App"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Version 2.1.0"})]})]}),e.jsx(S,{className:"w-5 h-5 text-gray-400"})]})]})]});default:return null}};return e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},onClick:o,children:e.jsxs("div",{className:`${r?"bg-gray-900":"bg-white"} rounded-2xl shadow-2xl w-full max-w-2xl my-8 animate-in fade-in zoom-in duration-200 max-h-[90vh] overflow-y-auto`,onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:`sticky top-0 bg-gradient-to-r ${X()} p-6 relative z-10 rounded-t-2xl`,children:[e.jsx("button",{onClick:o,className:"absolute top-3 right-3 w-10 h-10 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center transition-all shadow-lg hover:shadow-xl transform hover:scale-110 z-50","aria-label":"Close settings",children:e.jsx(ae,{className:"w-6 h-6 font-bold",style:{color:B()},strokeWidth:3})}),e.jsxs("div",{className:"flex items-center gap-3 pr-12",children:[e.jsx("div",{className:"w-14 h-14 bg-white rounded-xl flex items-center justify-center shadow-md",children:e.jsx("div",{style:{color:B(),filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.1))"},children:Q()})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white drop-shadow-md",children:K()}),e.jsx("p",{className:"text-white text-opacity-90 text-sm",children:"Manage your settings"})]})]})]}),e.jsxs("div",{className:"p-6",children:[re(),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsx(n,{onClick:o,className:`w-full h-12 rounded-xl bg-gradient-to-r ${X()} hover:opacity-90 shadow-lg font-semibold`,children:"Save Changes"})})]})]})})}function He({onNavigate:D,isLoggedIn:o,userName:f,user:r,onShowLogin:w,onLogout:v,isDarkMode:T=!1,onToggleDarkMode:_}){const[$,d]=t.useState(null),[u,E]=t.useState(null),[V,H]=t.useState([]),[I,U]=t.useState(!1),[j,g]=t.useState(""),[W,b]=t.useState(""),[q,k]=t.useState(void 0),[G,x]=t.useState(!1),[z,c]=t.useState(null);t.useEffect(()=>{o&&r&&(C(),M())},[o,r]);const O=async s=>{if(r){if(c(null),s.size>2*1024*1024){c("File too large. Max 2MB allowed.");return}if(!s.type.startsWith("image/")){c("Only image files are allowed.");return}x(!0);try{const l=s.name.split(".").pop(),P=`${r.id}.${Date.now()}.${l}`,y=`${r.id}/${P}`,R=h.storage.from("profile-pictures").upload(y,s,{upsert:!0}),N=new Promise((X,B)=>setTimeout(()=>B(new Error("Upload timed out. Please try again.")),2e4)),{error:J}=await Promise.race([R,N]);if(J){c("Failed to upload profile picture."),x(!1);return}const{error:K}=await h.from("profiles").update({profile_picture:y}).eq("id",r.id);if(K){c("Failed to update profile picture."),x(!1);return}const{data:Q}=h.storage.from("profile-pictures").getPublicUrl(y);k(Q.publicUrl||void 0),x(!1),C()}catch(l){c(l?.message||"Error uploading profile picture."),x(!1)}}},L=async()=>{if(r)try{const{error:s}=await h.from("profiles").update({display_name:j}).eq("id",r.id);if(s){alert("Failed to update display name");return}U(!1),b(j),C()}catch{alert("Error updating display name")}},M=async()=>{if(!r)return;const{data:s}=await h.from("reports").select("location, price, created_at").eq("user_id",r.id).order("created_at",{ascending:!1}).limit(5);H(s||[])},C=async()=>{if(!r)return;const{data:s,error:l}=await h.from("profiles").select(`
        id,
        display_name,
        profile_picture,
        trust_score,
        points,
        reports_count,
        verified_reports,
        achievements,
        created_at
      `).eq("id",r.id).single();if(l){console.error(l);return}if(E(s),g(s.display_name||r.email||"User"),b(s.display_name||r.email||"User"),s.profile_picture){const{data:P}=await h.storage.from("profile-pictures").createSignedUrl(s.profile_picture,31536e3);k(P?.signedUrl??void 0)}else k(void 0)},A=async()=>{if(r)try{const{error:s}=await h.from("profiles").update({profile_picture:null}).eq("id",r.id);if(s){console.error("Error removing profile picture:",s),alert("Failed to remove profile picture");return}k(void 0),C()}catch(s){console.error("Error removing profile picture:",s),alert("Error removing profile picture")}};return e.jsxs("div",{className:"min-h-screen pb-20",children:[e.jsx(ne,{isLoggedIn:o,userName:f,onShowLogin:w,onNavigate:D,onLogout:v}),o?e.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[e.jsxs(m,{className:"border-gray-200 shadow-lg overflow-hidden",children:[e.jsx("div",{className:"h-20 sm:h-24 bg-gradient-to-r from-orange-500 to-orange-600"}),e.jsxs(p,{className:"p-4 sm:p-6 -mt-10 sm:-mt-12 flex flex-col sm:flex-row items-center gap-6",children:[e.jsxs("div",{className:"relative w-24 h-24 sm:w-32 sm:h-32 rounded-2xl bg-gray-200 flex items-center justify-center group shadow-lg border-4 border-white -mt-12 sm:-mt-16",children:[G?e.jsx("div",{className:"flex items-center justify-center w-full h-full",children:e.jsx("span",{className:"text-orange-600 font-semibold",children:"Uploading..."})}):z?e.jsx("div",{className:"flex items-center justify-center w-full h-full",children:e.jsx("span",{className:"text-red-600 font-semibold",children:z})}):q?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:q,alt:"Profile",className:"w-full h-full rounded-2xl object-cover"}),e.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 rounded-2xl transition-opacity flex items-center justify-center",children:[e.jsx("button",{onClick:()=>document.getElementById("profile-pic-input")?.click(),className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white px-3 py-2 rounded-lg text-sm font-semibold shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 border-2 border-white hover:scale-105 hover:shadow-xl",style:{pointerEvents:"auto"},children:"Change Photo"}),e.jsx("button",{onClick:A,className:"ml-2 bg-red-500 text-white px-3 py-2 rounded-lg text-sm font-semibold shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 border-2 border-white hover:scale-105 hover:shadow-xl",style:{pointerEvents:"auto"},children:"Remove"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"w-10 h-10 sm:w-12 sm:h-12 text-white"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 rounded-2xl transition-opacity flex items-center justify-center",children:e.jsx("button",{onClick:()=>document.getElementById("profile-pic-input")?.click(),className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white px-3 py-2 rounded-lg text-sm font-semibold shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 border-2 border-white hover:scale-105 hover:shadow-xl",style:{pointerEvents:"auto"},children:"Upload Photo"})})]}),e.jsx("input",{id:"profile-pic-input",type:"file",accept:"image/*",onChange:s=>{s.target.files&&s.target.files[0]&&(O(s.target.files[0]),s.target.value="")},className:"hidden","aria-label":"Upload profile picture"})]}),e.jsxs("div",{className:"flex-1 mt-0 sm:mt-12 w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[I?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{value:j,onChange:s=>g(s.target.value),className:"text-xl sm:text-2xl font-bold text-gray-900 border rounded px-2",placeholder:"Enter display name"}),e.jsx(n,{onClick:L,size:"sm",children:"Save"}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>{g(W),U(!1)},children:"Cancel"})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:j}),e.jsx("button",{onClick:()=>{U(!0),b(j)},className:"text-gray-500 hover:text-gray-700",children:"âœï¸"})]}),e.jsxs(F,{className:"bg-green-100 text-green-700 border-green-200 font-semibold w-fit",children:["Level ",Math.floor(stats.trustScore/10)+1]})]}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mb-4",children:["Member since ",r?.created_at?new Date(r.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Unknown"," â€¢ Delhi, India"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-4",children:[e.jsx(m,{className:"border-gray-200 hover:shadow-lg transition-shadow bg-gradient-to-br from-orange-50 to-amber-50",children:e.jsxs(p,{className:"p-3 sm:p-5 text-center",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-500 rounded-xl flex items-center justify-center mx-auto mb-2 sm:mb-3 shadow-md",children:e.jsx(ie,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1",children:u?.reports_count??0}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Reports Filed"})]})}),e.jsx(m,{className:"border-gray-200 hover:shadow-lg transition-shadow bg-gradient-to-br from-green-50 to-emerald-50",children:e.jsxs(p,{className:"p-3 sm:p-5 text-center",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-500 rounded-xl flex items-center justify-center mx-auto mb-2 sm:mb-3 shadow-md",children:e.jsx(ge,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1",children:u?.points??0}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Points Earned"})]})}),e.jsx(m,{className:"border-gray-200 hover:shadow-lg transition-shadow bg-gradient-to-br from-blue-50 to-indigo-50",children:e.jsxs(p,{className:"p-3 sm:p-5 text-center",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-2 sm:mb-3 shadow-md",children:e.jsx(me,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1",children:u?.trust_score??0}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Trust Score"})]})})]}),e.jsx(m,{className:"border-gray-200 shadow-md",children:e.jsxs(p,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h4",{className:"font-bold text-xl text-gray-900",children:"Achievements"}),e.jsxs(F,{className:"bg-purple-100 text-purple-700 border-purple-200 font-semibold",children:[u?.achievements?.filter(s=>s.unlocked).length??0," of ",u?.achievements?.length??0," Unlocked"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:u?.achievements?.map((s,l)=>e.jsxs("div",{className:`p-4 rounded-xl text-center transition-all ${s.unlocked?"bg-gradient-to-br from-orange-50 to-amber-50 border-2 border-orange-200":"bg-gray-50 border-2 border-gray-200 opacity-50"}`,children:[e.jsx("div",{className:"text-4xl mb-2",children:s.icon}),e.jsx("p",{className:`text-sm font-semibold ${s.unlocked?"text-gray-900":"text-gray-500"}`,children:s.name}),s.unlocked?e.jsx(F,{className:"bg-green-100 text-green-700 border-green-200 text-xs mt-2 font-semibold",children:"Unlocked"}):e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:s.condition})]},l))})]})}),e.jsx(m,{className:"border-gray-200 shadow-md",children:e.jsxs(p,{className:"p-6",children:[e.jsx("h4",{className:"font-bold text-xl text-gray-900 mb-5",children:"Recent Activity"}),e.jsx("div",{className:"space-y-3",children:V.map((s,l)=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl hover:bg-orange-50 transition-colors",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(he,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:["Reported price in ",s.location]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["â‚¹",s.price]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(F,{className:"bg-green-100 text-green-700 border-green-200 font-semibold mb-1",children:"+10 pts"}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.created_at).toLocaleDateString()})]})]},l))})]})}),e.jsx(m,{className:"border-gray-200 shadow-md",children:e.jsxs(p,{className:"p-6 space-y-2",children:[e.jsx("h4",{className:"font-bold text-xl text-gray-900 mb-4",children:"Settings"}),e.jsxs(n,{variant:"ghost",className:"w-full justify-start gap-4 h-14 hover:bg-orange-50 font-semibold",onClick:()=>d("notifications"),children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:e.jsx(Y,{className:"w-5 h-5 text-blue-600"})}),e.jsx("span",{children:"Notifications"}),e.jsx(F,{className:"ml-auto bg-orange-100 text-orange-700 border-orange-200 font-semibold",children:"New"})]}),e.jsxs(n,{variant:"ghost",className:"w-full justify-start gap-4 h-14 hover:bg-orange-50 font-semibold",onClick:()=>d("preferences"),children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center",children:e.jsx(ee,{className:"w-5 h-5 text-purple-600"})}),e.jsx("span",{children:"Preferences"})]}),e.jsxs(n,{variant:"ghost",className:"w-full justify-start gap-4 h-14 hover:bg-orange-50 font-semibold",onClick:()=>d("privacy"),children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center",children:e.jsx(Z,{className:"w-5 h-5 text-green-600"})}),e.jsx("span",{children:"Privacy & Security"})]}),e.jsxs(n,{variant:"ghost",className:"w-full justify-start gap-4 h-14 hover:bg-orange-50 font-semibold",onClick:()=>d("help"),children:[e.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center",children:e.jsx(te,{className:"w-5 h-5 text-amber-600"})}),e.jsx("span",{children:"Help & Support"})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200 mt-4",children:o&&e.jsxs(n,{variant:"ghost",className:"w-full justify-start gap-4 h-14 hover:bg-red-50 text-red-600 font-semibold",onClick:v,children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-xl flex items-center justify-center",children:e.jsx(Pe,{className:"w-5 h-5 text-red-600"})}),e.jsx("span",{children:"Logout"})]})})]})}),e.jsx(m,{className:"border-orange-200 bg-gradient-to-br from-orange-50 to-amber-50 shadow-md",children:e.jsx(p,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:e.jsx(xe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-2",children:"About Fair Travel India"}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"Community-driven platform ensuring fair pricing for travelers across India. Join 50,000+ users helping each other travel smarter and avoid scams."}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsx("span",{children:"Version 2.1.0"}),e.jsx("span",{children:"â€¢"}),e.jsx("a",{href:"#",className:"text-orange-600 font-semibold hover:text-orange-700",children:"Terms"}),e.jsx("span",{children:"â€¢"}),e.jsx("a",{href:"#",className:"text-orange-600 font-semibold hover:text-orange-700",children:"Privacy"})]})]})]})})})]}):e.jsx("main",{className:"max-w-4xl mx-auto px-4 py-6 flex items-center justify-center min-h-[60vh]",children:e.jsxs(m,{className:"border-gray-200 shadow-lg p-8 text-center max-w-md",children:[e.jsx(se,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sign In Required"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please sign in to access your profile and manage your account."}),e.jsx(n,{onClick:w,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700",children:"Sign In"})]})}),e.jsx(oe,{currentScreen:"profile",onNavigate:D,isLoggedIn:o,onShowLogin:w}),$&&e.jsx(Fe,{type:$,isOpen:!!$,onClose:()=>d(null),isDarkMode:T,onToggleDarkMode:_})]})}export{He as ProfileScreen};
